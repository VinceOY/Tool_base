# 單元測試文件

這個文件描述了針對 `fetch_function.R` 中的函數的單元測試。

## `fetch_data` 函數測試

### 目的
確保 `fetch_data` 函數能夠從資料表中提取目標 ID 列和符合特定疾病碼的資料。

### 測試範圍
1. 檢查函數是否正確選擇目標 ID 列和疾病 ID 列。
2. 確保函數能夠正確過濾符合特定疾病碼的資料。

### 測試方法
1. 創建測試資料。
2. 呼叫 `fetch_data` 函數並傳入測試資料。
3. 對比函數返回的結果與預期結果。

### 期望結果
函數返回的結果與預期結果相同。

## `get_valid_data` 函數測試

### 目的
確保 `get_valid_data` 函數能夠從資料表中提取在一年內看診次數超過指定次數的資料。

### 測試範圍
1. 測試在一年內看診次數超過指定次數的情況。
2. 測試處理重複日期的情況。

### 測試方法
1. 創建測試資料。
2. 呼叫 `get_valid_data` 函數並傳入測試資料。
3. 對比函數返回的結果與預期結果。

### 期望結果
函數返回的結果與預期結果相同。

## `find_earliest_date` 函數測試

### 目的
確保 `find_earliest_date` 函數能夠從多個資料表中找到各確診病人的第一次確診時間。

### 測試範圍
1. 測試從不同資料表中找到各確診病人的第一次確診時間。
2. 測試不同 k 值的情況。

### 測試方法
1. 創建測試資料。
2. 呼叫 `find_earliest_date` 函數並傳入測試資料。
3. 對比函數返回的結果與預期結果。

### 期望結果
函數返回的結果與預期結果相同。
